# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

enum ActionType {
  BOTH
  EFFECT
  TRIGGER
}

"""BaseAction"""
type BaseAction {
  id: ID!
  name: String!
  options: String!
  type: ActionType!
}

"""Link between trigger and effect"""
type BayAction {
  action_effect: UniqueAction!
  action_trigger: UniqueAction!
  active: Boolean
  id: ID!
  name: String
}

input CommunicationInput {
  action_effect_id: String!
  message: String!
}

input InputBaseAction {
  name: String!
  options: String!
}

input InputBaseActionAttach {
  baseaction_id: String!
  service_id: String!
}

input InputBayAction {
  action_effect_id: String!
  action_trigger_id: String!
}

input InputLink {
  action_id: String!
  token: String!
}

input InputService {
  in_url: String!
  name: String!
  out_url: String!
}

input InputUser {
  email: String!
  name: String!
  password: String!
}

"""Link Service & User"""
type Links {
  action: UniqueAction!
  id: ID!
  token: String!
}

type Mutation {
  AttachBaseAction(data: InputBaseActionAttach!): Service
  CreateBaseAction(data: InputBaseAction!): BaseAction
  CreateBayAction(data: InputBayAction!): BayAction
  CreateLinksWithActionId(data: InputLink!): Links
  CreateOrModifyOptionsBaseAction(data: OptionsInputType!): BaseAction
  CreateService(data: InputService!): Service
  CreateUniqueActionByBaseActionId(data: UniqueActionInput!): UniqueAction
  CreateUser(data: InputUser!): ResultUser
  SendGmailMail(data: CommunicationInput!): Boolean!
  SendSlackMessage(data: CommunicationInput!): Boolean!
}

input OptionsInputType {
  id: String!
  options: String!
}

type Query {
  GetAllServices: [Service!]
  GetBaseActionById(id: String!): BaseAction
  GetBayActionById(id: String!): BayAction
  GetLinksById(id: String!): Links
  GetServiceById(id: String!): Service
  GetUniqueActionById(id: String!): UniqueAction
  GetUserById(id: String!): User
}

type ResultUser {
  is_new: Boolean!
  jwt_token: String!
  user: User!
}

"""Services"""
type Service {
  actions: [BaseAction!]!
  icon: String!
  id: ID!
  in_url: String!
  name: String!
  out_url: String!
}

"""Derivate from base with params"""
type UniqueAction {
  action: BaseAction!
  id: ID!
  old_values: String!
  parameters: String!
  service: Service!
}

input UniqueActionInput {
  action_id: String!
  old_values: String!
  parameters: String!
}

"""User"""
type User {
  email: String!
  id: ID!
  name: String!
  password: String!
  user_actions: [BayAction!]!
}
